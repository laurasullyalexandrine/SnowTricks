{# image management #}
{% macro imageLoop(trick, withInput) %}
	{% for image in trick.images(true) %}
		{% if image.type == constant('App\\Entity\\image::TYPE_IMAGE') %}
			<img class="image-tag rounded me-3 mb-3" src="{{ asset(image) }}" alt="image-snowboard-{{ trick.name }}"/>
		{% elseif image.type == constant('App\\Entity\\image::TYPE_VIDEO') %}
			<video class="image-tag rounded me-3 mb-3" controls src="{{ asset(image) }}"></video>
		{% endif %}
		<div>
			{% if app.request.attributes.get('_route') == "trick_edit" %}
				{% include "_partial/_edit-delete-image.html.twig" with { withInput: withInput } %}
			{% endif %}
		</div>
	{% endfor %}
{% endmacro %}


<section class="d-none d-sm-none d-md-block d-lg-block">
	<div class="d-flex flex-wrap justify-content-center py-3 bg-black">
		{{ _self.imageLoop(trick, 1) }}
	</div>
</section>
<section class="d-block d-sm-block d-md-none d-lg-none">
	<div class="text-center py-3 bg-black">
		<a data-bs-toggle="collapse" href="#image" aria-expanded="false" aria-controls="image"></a>
		<button class="btn" type="button" data-bs-toggle="collapse" href="#image" aria-expanded="false" aria-controls="image">MÃ©dia
			{% if trick.images|length > 1 %}s
			{% endif %}
		</button>
	</div>
	<div class="collapse" id="image">
		<div class="d-flex flex-column py-3 bg-black">
			<div class="align-self-center">
				{{ _self.imageLoop(trick, 0) }}
			</div>
		</div>
	</div>
</section>
